(this.webpackJsonpcv_constructor=this.webpackJsonpcv_constructor||[]).push([[0],{125:function(t,e,n){t.exports={result:"Result_result__3c7hi",item:"Result_item__1VsMS",text:"Result_text__3Of1R",title:"Result_title__2pDlr",subtitle:"Result_subtitle__37ntN",marked:"Result_marked__3rC8Y"}},203:function(t,e,n){t.exports={textarea:"EditTextarea_textarea__2HuB6",container:"EditTextarea_container__2vOPT",cross:"EditTextarea_cross__2P_Qn"}},204:function(t,e,n){t.exports={title:"EditTitle_title__2FzB7",container:"EditTitle_container__3sLk4",cross:"EditTitle_cross__32LGq"}},205:function(t,e,n){t.exports={title:"EditSubtitle_title__1ooRT",container:"EditSubtitle_container__3mi4G",cross:"EditSubtitle_cross__3LRCX"}},206:function(t,e,n){t.exports={list:"ResultMarkedList_list__3zB_2",item:"ResultMarkedList_item__3amy1"}},207:function(t,e,n){t.exports={list:"ResultLink_list__3Mx2b",item:"ResultLink_item__2vuVd"}},382:function(t,e){},443:function(t,e,n){},444:function(t,e,n){},445:function(t,e,n){},446:function(t,e,n){t.exports={container:"Container_container__1JeGt"}},586:function(t,e){},79:function(t,e,n){t.exports={container:"EditLink_container__2KrP-",footer:"EditLink_footer__3S86n",inputCross:"EditLink_inputCross__2Mujo",cross:"EditLink_cross__147li",inputContainer:"EditLink_inputContainer__3uZIT",input:"EditLink_input__3NBtJ",addBtn:"EditLink_addBtn__1LTP1"}},839:function(t,e){},840:function(t,e){},841:function(t,e){},842:function(t,e){},843:function(t,e){},848:function(t,e,n){"use strict";n.r(e);var i=n(4),c=n(174),r=n.n(c),o=(n(443),n(444),n(445),n(45)),a=(n(446),n(90),n(203),n.p,n(9)),s=(n(204),n(205),n(91),n(195),n(79),n(108)),u=(n(6),n(42),n(89)),d=n(29),_="SET_SECTION",l="UPDATE_SECTION",f="DELETE_SECTION",b="ADD_LINE",p="DELETE_LINE",m={CV:[]},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case _:return Object(d.a)(Object(d.a)({},t),{},{CV:[].concat(Object(u.a)(t.CV),[e.content])});case f:return Object(d.a)(Object(d.a)({},t),{},{CV:t.CV.filter((function(t){return t.id!==e.id}))});case l:switch(e.content.type){case"text":case"subtitle":case"title":return Object(d.a)(Object(d.a)({},t),{},{CV:t.CV.map((function(t){return e.content.id===t.id?Object(d.a)(Object(d.a)({},t),{},{message:e.content.message}):Object(d.a)({},t)}))});case"marked_list":return Object(d.a)(Object(d.a)({},t),{},{CV:t.CV.map((function(t){return e.content.id===t.id?Object(d.a)(Object(d.a)({},t),{},{list:t.list.map((function(t){return e.content.name===t.name?Object(d.a)(Object(d.a)({},t),{},{message:e.content.message}):Object(d.a)({},t)}))}):Object(d.a)({},t)}))});case"link":return Object(d.a)(Object(d.a)({},t),{},{CV:t.CV.map((function(t){return e.content.id===t.id?Object(d.a)(Object(d.a)({},t),{},{list:t.list.map((function(t){return e.content.name===t.name?Object(d.a)(Object(d.a)({},t),{},{link:e.content.link,title:e.content.title}):Object(d.a)({},t)}))}):Object(d.a)({},t)}))});default:return t}case b:return Object(d.a)(Object(d.a)({},t),{},{CV:t.CV.map((function(t){return e.id===t.id?Object(d.a)(Object(d.a)({},t),{},{list:[].concat(Object(u.a)(t.list),[{message:"",name:9999998*Math.random()+1}])}):Object(d.a)({},t)}))});case p:return Object(d.a)(Object(d.a)({},t),{},{CV:t.CV.map((function(t){return e.content.id===t.id?Object(d.a)(Object(d.a)({},t),{},{list:t.list.filter((function(t){return t.name!==e.content.name}))}):Object(d.a)({},t)}))});default:return t}},O=(n(125),n(206),n(207),n(390),n(391),n(586),n(853),n(54),n(249),n.p,n(246)),h=n(97),x=[],g=[],k=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;e.size=n,e.color="transparent",x.push(e),g.push({source:t,target:e,distance:i,color:"transparent"})},E=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:75,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#4C514A";g.push({source:t,target:e,distance:n,color:i})},v=function(t,e){t.map((function(n){var i=x.find((function(t){return t.id===n})),c=i.connected_rooms;return t.length<=1?(E(e,i,75),function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=0;n<e;n++)k(t,{id:""},1,0)}(e)):c.length<=1?E(e,i,75):t.length<=3?E(e,i,150):E(e,i,300),0}))},C=[{id:1,name:"\u041a\u043e\u043c\u043d\u0430\u0442\u0430 1",connected_rooms:[2,5],is_checked:!0},{id:2,name:"\u041a\u043e\u043c\u043d\u0430\u0442\u0430 2",connected_rooms:[1,3,4,7],is_checked:!1},{id:3,name:"\u041a\u043e\u043c\u043d\u0430\u0442\u0430 3",connected_rooms:[2,4,7],is_checked:!1},{id:4,name:"\u041a\u043e\u043c\u043d\u0430\u0442\u0430 4",connected_rooms:[2,3,5,6],is_checked:!0},{id:5,name:"\u041a\u043e\u043c\u043d\u0430\u0442\u0430 5",connected_rooms:[1,2,3,4,6],is_checked:!0},{id:6,name:"\u041a\u043e\u043c\u043d\u0430\u0442\u0430 6",connected_rooms:[2,3,4,5],is_checked:!0},{id:7,name:"\u041a\u043e\u043c\u043d\u0430\u0442\u0430 7",connected_rooms:[2,3],is_checked:!0}];C&&C.length>0&&C.map((function(t,e){return(n=t).size=7,n.color=n.is_checked?"green":"red",void x.push(n);var n})),C.map((function(t,e){return v(t.connected_rooms,t)})),console.log("nodes",x),console.log("links",g);var L=function(t){var e="";return Object(i.useEffect)((function(){var t,n;e=h.f("#container"),O.isMobile?(t=document.body.offsetWidth/2,n=document.body.offsetHeight/3):(O.isDesktop,t=325,n=document.body.offsetHeight/3);var i=h.e(x).force("charge",h.d().strength(-100)).force("link",h.c(g).distance((function(t){return t.distance}))).force("center",h.b(t,n));h.g().on("zoom",(function(t){c.attr("transform",t.transform)}))(e);var c=e.append("svg:g"),r=c.append("g").attr("class","links").selectAll("line").data(g).enter().append("line").attr("stroke",(function(t){return t.color||"black"})),o=c.append("g").attr("class","nodes").selectAll("circle").data(x).enter().append("circle").attr("fill",(function(t){return t.color||"gray"})).attr("r",(function(t){return t.size})).style("cursor","pointer").on("click",(function(t,e){var n=e.id;window.alert("https://vk.com/id"+n)})),a=c.append("g").selectAll("text").data(x).enter().append("text").attr("text-anchor","middle").attr("alignment-baseline","middle").style("pointer-events","none").style("font-weight",500).style("font-size",10).style("fill","#fff").text((function(t){return t.name}));h.a().on("start",(function(t,e){t.active||i.alpha(.3).restart();e.fx=e.x,e.fy=e.y})).on("drag",(function(t,e){e.fx=t.x,e.fy=t.y})).on("end",(function(t,e){t.active||i.alphaTarget(0);e.fx=null,e.fy=null}))(o),i.on("tick",(function(){o.attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})),a.attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y-15})),r.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y}))}))}),[]),Object(a.jsx)("div",{style:{width:650},children:Object(a.jsx)("svg",{id:"container",viewBox:"0 0 800 1000",preserveAspectRatio:"xMidYMid meet",children:" "})})},y=function(){return Object(a.jsx)("div",{className:"outer",children:Object(a.jsx)(L,{})})},T=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(o.b,{children:Object(a.jsx)(y,{})})})},V=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,856)).then((function(e){var n=e.getCLS,i=e.getFID,c=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),i(t),c(t),r(t),o(t)}))},M=n(243),R=n(208),w=n(399),B=Object(R.b)({editor:j}),S=Object(R.c)(B,Object(R.a)(w.a));window.store=S;var D=S;r.a.render(Object(a.jsx)(M.a,{basename:"/Cv-Constructor",children:Object(a.jsx)(s.a,{store:D,children:Object(a.jsx)(T,{})})}),document.getElementById("root")),V()},90:function(t,e,n){t.exports={editor:"Editor_editor__3RnCE",buttons:"Editor_buttons__fO1Zk",item:"Editor_item__3bnUx",button:"Editor_button__2X4nY"}},91:function(t,e,n){t.exports={container:"EditMarkedList_container__1vqpM",footer:"EditMarkedList_footer__1HWDP",inputCross:"EditMarkedList_inputCross__24W39",cross:"EditMarkedList_cross__A2JNE",inputContainer:"EditMarkedList_inputContainer__2PXVC",input:"EditMarkedList_input__1KWIQ",addBtn:"EditMarkedList_addBtn__18g9T"}}},[[848,1,2]]]);
//# sourceMappingURL=main.456be1a1.chunk.js.map